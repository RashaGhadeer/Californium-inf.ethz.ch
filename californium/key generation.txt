CYGWIN:
Generate Self-Signed Root Certificate:
	Organization Name: ethz

Generate CSR for Intermediate CA
	Organization Name: ethz
	A challenge password: endPass
	An optional company name: ethz

Generate Key Pair for End Certicate
	Enter keystore password: endPass
	Re-enter new password: endPass
	What is your first and last name: Martin lanter
	Enter key password for <end>
        	(RETURN if same as keystore password):  endPass
	Re-enter new password: endPass

WINDOWS Console:
Add the Root Certicate to the Trusted Certicates (a)
	keytool -importcert -alias californium -file root.crt -keystore "C:/Program Files/Java/jre7/lib/security/cacerts"
	Password: changeit

CYGWIN:
Add the Root Certicate to the Trusted Certicates (b)
	Enter password: endPass
	Re-enter password: endPass

Import the Certicate Chain into the Keystore (a)
	Enter keystore password: endPass

Import the Certicate Chain into the Keystore (b)
	keytool -importcert -alias end -file end.crt -keystore keyStore.jks
	==> ERROR:
		Javimka@Javimka-PC ~/git/Californium/californium/test_key
		$ keytool -importcert -alias end -file end.crt -keystore keyStore.jks
		Enter keystore password:  endPass
		keytool error: java.lang.Exception: Failed to establish chain from reply









=========================================
Total cygwin Output:

CYGWIN:
Javimka@Javimka-PC ~
$ cd git

Javimka@Javimka-PC ~/git
$ cd Californium/

Javimka@Javimka-PC ~/git/Californium
$ cd californium/

Javimka@Javimka-PC ~/git/Californium/californium
$ ls
Californium.properties  Proxy.properties  target
pom.xml                 src               test_keyStore.jks

Javimka@Javimka-PC ~/git/Californium/californium
$ openssl ecparam -name secp521r1 -genkey -out root.key

Javimka@Javimka-PC ~/git/Californium/californium
$ openssl ecparam -name secp521r1 -genkey -out inter.key

Javimka@Javimka-PC ~/git/Californium/californium
$ ls
Californium.properties  pom.xml           root.key  target
inter.key               Proxy.properties  src       test_keyStore.jks

Javimka@Javimka-PC ~/git/Californium/californium
$ openssl req -new -key root.key -x509 -days 365 -out root.crt
You are about to be asked to enter information that will be incorporated
into your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.
There are quite a few fields but you can leave some blank
For some fields there will be a default value,
If you enter '.', the field will be left blank.
-----
Country Name (2 letter code) [AU]:.
State or Province Name (full name) [Some-State]:.
Locality Name (eg, city) []:.
Organization Name (eg, company) [Internet Widgits Pty Ltd]:.
Organizational Unit Name (eg, section) []:.
Common Name (e.g. server FQDN or YOUR name) []:.
Email Address []:.
error, no objects specified in config file
problems making Certificate Request

Javimka@Javimka-PC ~/git/Californium/californium
$

Javimka@Javimka-PC ~/git/Californium/californium
$ openssl req -new -key root.key -x509 -days 365 -out root.crt
You are about to be asked to enter information that will be incorporated
into your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.
There are quite a few fields but you can leave some blank
For some fields there will be a default value,
If you enter '.', the field will be left blank.
-----
Country Name (2 letter code) [AU]:.
State or Province Name (full name) [Some-State]:.
Locality Name (eg, city) []:.
Organization Name (eg, company) [Internet Widgits Pty Ltd]:ethz
Organizational Unit Name (eg, section) []:.
Common Name (e.g. server FQDN or YOUR name) []:.
Email Address []:.

Javimka@Javimka-PC ~/git/Californium/californium
$ openssl req -new -key inter.key -out inter.csr
You are about to be asked to enter information that will be incorporated
into your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.
There are quite a few fields but you can leave some blank
For some fields there will be a default value,
If you enter '.', the field will be left blank.
-----
Country Name (2 letter code) [AU]:.
State or Province Name (full name) [Some-State]:.
Locality Name (eg, city) []:.
Organization Name (eg, company) [Internet Widgits Pty Ltd]:ethz
Organizational Unit Name (eg, section) []:.
Common Name (e.g. server FQDN or YOUR name) []:.
Email Address []:.

Please enter the following 'extra' attributes
to be sent with your certificate request
A challenge password []:endPass
An optional company name []:ethz

Javimka@Javimka-PC ~/git/Californium/californium
$ openssl x509 -req -in inter.csr -CA root.crt -CAkey root.key -out inter.crt -days 365 -CAcreateserial
Signature ok
subject=/O=ethz
Getting CA Private Key

Javimka@Javimka-PC ~/git/Californium/californium
$ keytool
Key and Certificate Management Tool

Commands:

 -certreq            Generates a certificate request
 -changealias        Changes an entry's alias
 -delete             Deletes an entry
 -exportcert         Exports certificate
 -genkeypair         Generates a key pair
 -genseckey          Generates a secret key
 -gencert            Generates certificate from a certificate request
 -importcert         Imports a certificate or a certificate chain
 -importkeystore     Imports one or all entries from another keystore
 -keypasswd          Changes the key password of an entry
 -list               Lists entries in a keystore
 -printcert          Prints the content of a certificate
 -printcertreq       Prints the content of a certificate request
 -printcrl           Prints the content of a CRL file
 -storepasswd        Changes the store password of a keystore

Use "keytool -command_name -help" for usage of command_name

Javimka@Javimka-PC ~/git/Californium/californium
$ keytool -genkeypair -alias end -keyalg EC -keystore keyStore.jks
Enter keystore password:

Javimka@Javimka-PC ~/git/Californium/californium
$ keytool -genkeypair -alias end -keyalg EC -keystore keyStore.jks -sigalg SHA1withECDSA -validity 365
Enter keystore password:  endPass
Re-enter new password: endPass
What is your first and last name?
  [Unknown]:  Martin Lanter
What is the name of your organizational unit?
  [Unknown]:
What is the name of your organization?
  [Unknown]:
What is the name of your City or Locality?
  [Unknown]:
What is the name of your State or Province?
  [Unknown]:
What is the two-letter country code for this unit?
  [Unknown]:
Is CN=Martin Lanter, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown correct?
  [no]:  y

Enter key password for <end>
        (RETURN if same as keystore password):  endPass
Re-enter new password: endPass

Javimka@Javimka-PC ~/git/Californium/californium
$ keytool -certreq -alias end -keystore keyStore.jks  -file end.csr
Enter keystore password:  endPass

Javimka@Javimka-PC ~/git/Californium/californium
$ openssl x509 -req -in end.csr -CA inter.crt -CAkey inter.key -out end.crt -days 365 -CAcreateserial
Signature ok
subject=/C=Unknown/ST=Unknown/L=Unknown/O=Unknown/OU=Unknown/CN=Martin Lanter
Getting CA Private Key

__________________________________________________



